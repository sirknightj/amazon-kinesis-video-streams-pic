<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Amazon Kinesis Video Streams PIC: src/heap/src/HybridHeap.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Amazon Kinesis Video Streams PIC
   &#160;<span id="projectnumber">1.0.1</span>
   </div>
   <div id="projectbrief">Platform independent code for Amazon Kinesis Video Streams</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('HybridHeap_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">HybridHeap.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="heap_2src_2Include__i_8h_source.html">Include_i.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for HybridHeap.c:</div>
<div class="dyncontent">
<div class="center"><img src="HybridHeap_8c__incl.png" border="0" usemap="#asrc_2heap_2src_2HybridHeap_8c" alt=""/></div>
<map name="asrc_2heap_2src_2HybridHeap_8c" id="asrc_2heap_2src_2HybridHeap_8c">
<area shape="rect" title=" " alt="" coords="1701,5,1893,32"/>
<area shape="rect" href="heap_2src_2Include__i_8h.html" title=" " alt="" coords="1751,80,1843,107"/>
<area shape="rect" href="heap_2include_2com_2amazonaws_2kinesis_2video_2heap_2Include_8h.html" title=" " alt="" coords="1349,155,1532,196"/>
<area shape="rect" href="Common_8h.html" title=" " alt="" coords="1557,162,1650,189"/>
<area shape="rect" href="SystemHeap_8h.html" title=" " alt="" coords="1674,162,1791,189"/>
<area shape="rect" href="AivHeap_8h.html" title=" " alt="" coords="1816,162,1905,189"/>
<area shape="rect" href="HybridHeap_8h.html" title=" " alt="" coords="1929,162,2040,189"/>
<area shape="rect" href="HybridFileHeap_8h.html" title=" " alt="" coords="2064,162,2199,189"/>
<area shape="rect" href="CommonDefs_8h.html" title=" " alt="" coords="852,333,1080,375"/>
<area shape="rect" href="PlatformUtils_8h.html" title=" " alt="" coords="1655,333,1880,375"/>
<area shape="rect" href="utils_2include_2com_2amazonaws_2kinesis_2video_2utils_2Include_8h.html" title=" " alt="" coords="1349,244,1532,285"/>
<area shape="rect" title=" " alt="" coords="5,423,89,449"/>
<area shape="rect" title=" " alt="" coords="113,423,187,449"/>
<area shape="rect" title=" " alt="" coords="1732,423,1803,449"/>
<area shape="rect" title=" " alt="" coords="211,423,281,449"/>
<area shape="rect" title=" " alt="" coords="306,423,381,449"/>
<area shape="rect" title=" " alt="" coords="405,423,471,449"/>
<area shape="rect" title=" " alt="" coords="495,423,581,449"/>
<area shape="rect" title=" " alt="" coords="605,423,673,449"/>
<area shape="rect" title=" " alt="" coords="697,423,768,449"/>
<area shape="rect" title=" " alt="" coords="793,423,857,449"/>
<area shape="rect" title=" " alt="" coords="881,423,955,449"/>
<area shape="rect" title=" " alt="" coords="979,423,1051,449"/>
<area shape="rect" title=" " alt="" coords="1075,423,1166,449"/>
<area shape="rect" title=" " alt="" coords="1190,423,1307,449"/>
<area shape="rect" title=" " alt="" coords="1332,423,1411,449"/>
<area shape="rect" title=" " alt="" coords="1435,423,1502,449"/>
<area shape="rect" title=" " alt="" coords="1527,423,1616,449"/>
<area shape="rect" title=" " alt="" coords="1640,423,1708,449"/>
<area shape="rect" title=" " alt="" coords="1827,423,1902,449"/>
<area shape="rect" title=" " alt="" coords="1926,423,2001,449"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a7207e343606b6631ce2556bf7411b833"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="HybridHeap_8c.html#a7207e343606b6631ce2556bf7411b833">LOG_CLASS</a>&#160;&#160;&#160;&quot;HybridHeap&quot;</td></tr>
<tr class="separator:a7207e343606b6631ce2556bf7411b833"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abab032f3263194388204adbe0c502fb4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="HybridHeap_8c.html#abab032f3263194388204adbe0c502fb4">VRAM_ALLOCATION_FOOTER_SIZE</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:abab032f3263194388204adbe0c502fb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f55b3b6394e98e2b70dc5a0e514ab8b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="HybridHeap_8c.html#a8f55b3b6394e98e2b70dc5a0e514ab8b">VRAM_ALLOCATION_HEADER_SIZE</a>&#160;&#160;&#160;<a class="el" href="CommonDefs_8h.html#adb5bdad0c0d045cf0679648a4f3b19ed">SIZEOF</a>(<a class="el" href="HybridHeap_8c.html#a33463ae16badc6eb4f205d70dfb9d909">gVramHeader</a>)</td></tr>
<tr class="separator:a8f55b3b6394e98e2b70dc5a0e514ab8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a5997e21e6726c0dff49a46fbac8958a6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="CommonDefs_8h.html#a59279bee44f34d08b3cbf3a89fb0d8d9">STATUS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="HybridHeap_8c.html#a5997e21e6726c0dff49a46fbac8958a6">hybridCreateHeap</a> (<a class="el" href="heap_2include_2com_2amazonaws_2kinesis_2video_2heap_2Include_8h.html#acaabd707c5ac30be3a1afef736396df3">PHeap</a> pHeap, <a class="el" href="CommonDefs_8h.html#a0b39d6d754cb24c708b0f2bdbe88130e">UINT32</a> spillRatio, <a class="el" href="CommonDefs_8h.html#a0b39d6d754cb24c708b0f2bdbe88130e">UINT32</a> behaviorFlags, <a class="el" href="HybridHeap_8h.html#a2d444d0408a0f21ad11fdcb965e6d78c">PHybridHeap</a> *ppHybridHeap)</td></tr>
<tr class="separator:a5997e21e6726c0dff49a46fbac8958a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d90ad83d9e9d1df6bcb7304b3948069"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="HybridHeap_8c.html#a8d90ad83d9e9d1df6bcb7304b3948069">DEFINE_HEAP_CHK</a> (hybridHeapDebugCheckAllocator)</td></tr>
<tr class="separator:a8d90ad83d9e9d1df6bcb7304b3948069"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a577cecb447f694b0e08314f1d133d369"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="HybridHeap_8c.html#a577cecb447f694b0e08314f1d133d369">DEFINE_INIT_HEAP</a> (hybridHeapInit)</td></tr>
<tr class="separator:a577cecb447f694b0e08314f1d133d369"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5def33721e47fd37d82a6fc496e51c16"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="HybridHeap_8c.html#a5def33721e47fd37d82a6fc496e51c16">DEFINE_RELEASE_HEAP</a> (hybridHeapRelease)</td></tr>
<tr class="separator:a5def33721e47fd37d82a6fc496e51c16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59b1a70c9d76f6be51bbad89e42eb897"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="HybridHeap_8c.html#a59b1a70c9d76f6be51bbad89e42eb897">DEFINE_HEAP_ALLOC</a> (hybridHeapAlloc)</td></tr>
<tr class="separator:a59b1a70c9d76f6be51bbad89e42eb897"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7379d2de5f983b335d3be5f61cfbd1f6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="HybridHeap_8c.html#a7379d2de5f983b335d3be5f61cfbd1f6">DEFINE_HEAP_FREE</a> (hybridHeapFree)</td></tr>
<tr class="separator:a7379d2de5f983b335d3be5f61cfbd1f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b4c737da6f63bf0c0ab1278485046b9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="HybridHeap_8c.html#a1b4c737da6f63bf0c0ab1278485046b9">DEFINE_HEAP_GET_ALLOC_SIZE</a> (hybridHeapGetAllocSize)</td></tr>
<tr class="separator:a1b4c737da6f63bf0c0ab1278485046b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7e8e5848877272cb4ac6d546d035315"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="HybridHeap_8c.html#ab7e8e5848877272cb4ac6d546d035315">DEFINE_HEAP_SET_ALLOC_SIZE</a> (hybridHeapSetAllocSize)</td></tr>
<tr class="separator:ab7e8e5848877272cb4ac6d546d035315"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57b19744d3c65c0ef794c570d2307562"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="HybridHeap_8c.html#a57b19744d3c65c0ef794c570d2307562">DEFINE_HEAP_MAP</a> (hybridHeapMap)</td></tr>
<tr class="separator:a57b19744d3c65c0ef794c570d2307562"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52ac94f2e43b4bb4a2b8895692e2ca58"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="HybridHeap_8c.html#a52ac94f2e43b4bb4a2b8895692e2ca58">DEFINE_HEAP_UNMAP</a> (hybridHeapUnmap)</td></tr>
<tr class="separator:a52ac94f2e43b4bb4a2b8895692e2ca58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f03a6ee74faef94fc2cb119599d7c2a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="HybridHeap_8c.html#a8f03a6ee74faef94fc2cb119599d7c2a">DEFINE_HEADER_SIZE</a> (hybridGetAllocationHeaderSize)</td></tr>
<tr class="separator:a8f03a6ee74faef94fc2cb119599d7c2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af71c3fca686bcf11ed633b5be55d5478"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="HybridHeap_8c.html#af71c3fca686bcf11ed633b5be55d5478">DEFINE_FOOTER_SIZE</a> (hybridGetAllocationFooterSize)</td></tr>
<tr class="separator:af71c3fca686bcf11ed633b5be55d5478"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bcb524c7ef68726177d32f1f4df1ecd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="HybridHeap_8c.html#a8bcb524c7ef68726177d32f1f4df1ecd">DEFINE_ALIGNED_SIZE</a> (hybridGetAllocationAlignedSize)</td></tr>
<tr class="separator:a8bcb524c7ef68726177d32f1f4df1ecd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae231618a4a632e1e544635f872519436"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="HybridHeap_8c.html#ae231618a4a632e1e544635f872519436">DEFINE_ALLOC_SIZE</a> (hybridGetAllocationSize)</td></tr>
<tr class="separator:ae231618a4a632e1e544635f872519436"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0d461302baafb25085507d1db39f363"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="HybridHeap_8c.html#ab0d461302baafb25085507d1db39f363">DEFINE_HEAP_LIMITS</a> (hybridGetHeapLimits)</td></tr>
<tr class="separator:ab0d461302baafb25085507d1db39f363"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a33463ae16badc6eb4f205d70dfb9d909"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structALLOCATION__HEADER.html">ALLOCATION_HEADER</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="HybridHeap_8c.html#a33463ae16badc6eb4f205d70dfb9d909">gVramHeader</a> = {0, <a class="el" href="HybridHeap_8h.html#a493bb3a59d944fcdfddaf94ad7ddc052">VRAM_ALLOCATION_TYPE</a>, 0}</td></tr>
<tr class="separator:a33463ae16badc6eb4f205d70dfb9d909"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73a6862f89e9d7ff747c7d7ac0ee0d1f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structALLOCATION__FOOTER.html">ALLOCATION_FOOTER</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="HybridHeap_8c.html#a73a6862f89e9d7ff747c7d7ac0ee0d1f">gVramFooter</a> = {0}</td></tr>
<tr class="separator:a73a6862f89e9d7ff747c7d7ac0ee0d1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a7207e343606b6631ce2556bf7411b833"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7207e343606b6631ce2556bf7411b833">&#9670;&nbsp;</a></span>LOG_CLASS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOG_CLASS&#160;&#160;&#160;&quot;HybridHeap&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Implementation of a heap based on Hybrid heap </p>

</div>
</div>
<a id="abab032f3263194388204adbe0c502fb4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abab032f3263194388204adbe0c502fb4">&#9670;&nbsp;</a></span>VRAM_ALLOCATION_FOOTER_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VRAM_ALLOCATION_FOOTER_SIZE&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a8f55b3b6394e98e2b70dc5a0e514ab8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f55b3b6394e98e2b70dc5a0e514ab8b">&#9670;&nbsp;</a></span>VRAM_ALLOCATION_HEADER_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VRAM_ALLOCATION_HEADER_SIZE&#160;&#160;&#160;<a class="el" href="CommonDefs_8h.html#adb5bdad0c0d045cf0679648a4f3b19ed">SIZEOF</a>(<a class="el" href="HybridHeap_8c.html#a33463ae16badc6eb4f205d70dfb9d909">gVramHeader</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a8bcb524c7ef68726177d32f1f4df1ecd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8bcb524c7ef68726177d32f1f4df1ecd">&#9670;&nbsp;</a></span>DEFINE_ALIGNED_SIZE()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFINE_ALIGNED_SIZE </td>
          <td>(</td>
          <td class="paramtype">hybridGetAllocationAlignedSize&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ae231618a4a632e1e544635f872519436"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae231618a4a632e1e544635f872519436">&#9670;&nbsp;</a></span>DEFINE_ALLOC_SIZE()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFINE_ALLOC_SIZE </td>
          <td>(</td>
          <td class="paramtype">hybridGetAllocationSize&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af71c3fca686bcf11ed633b5be55d5478"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af71c3fca686bcf11ed633b5be55d5478">&#9670;&nbsp;</a></span>DEFINE_FOOTER_SIZE()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFINE_FOOTER_SIZE </td>
          <td>(</td>
          <td class="paramtype">hybridGetAllocationFooterSize&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a8f03a6ee74faef94fc2cb119599d7c2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f03a6ee74faef94fc2cb119599d7c2a">&#9670;&nbsp;</a></span>DEFINE_HEADER_SIZE()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFINE_HEADER_SIZE </td>
          <td>(</td>
          <td class="paramtype">hybridGetAllocationHeaderSize&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Dealing with the allocation sizes </p>

</div>
</div>
<a id="a59b1a70c9d76f6be51bbad89e42eb897"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59b1a70c9d76f6be51bbad89e42eb897">&#9670;&nbsp;</a></span>DEFINE_HEAP_ALLOC()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFINE_HEAP_ALLOC </td>
          <td>(</td>
          <td class="paramtype">hybridHeapAlloc&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allocate from the heap</p>
<p>IMPORTANT: If we fail to allocate from the in-memory heap (most likely due to oom condition) we fall back and try to allocate from VRAM. We need to later make sure we know whether the allocated handle came from the in-memory heap or from the VRAM heap. In order to differentiate the allocation we assume that if the handle value is less than 8 byte aligned then it's a VRAM allocation. VRAM uses the high-order 32 bits to store the actual value of the handle and use the low bits to indicate that it's a VRAM allocation. All in-memory allocators will allocate at least 8-byte aligned memory. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="HybridHeap_8c_a59b1a70c9d76f6be51bbad89e42eb897_cgraph.png" border="0" usemap="#aHybridHeap_8c_a59b1a70c9d76f6be51bbad89e42eb897_cgraph" alt=""/></div>
<map name="aHybridHeap_8c_a59b1a70c9d76f6be51bbad89e42eb897_cgraph" id="aHybridHeap_8c_a59b1a70c9d76f6be51bbad89e42eb897_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,167,32"/>
<area shape="rect" href="Common_8c.html#aa7efbc2a748c00694bc6285555bfa1ee" title=" " alt="" coords="215,5,348,32"/>
</map>
</div>

</div>
</div>
<a id="a8d90ad83d9e9d1df6bcb7304b3948069"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d90ad83d9e9d1df6bcb7304b3948069">&#9670;&nbsp;</a></span>DEFINE_HEAP_CHK()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFINE_HEAP_CHK </td>
          <td>(</td>
          <td class="paramtype">hybridHeapDebugCheckAllocator&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Debug print analytics information </p>

</div>
</div>
<a id="a7379d2de5f983b335d3be5f61cfbd1f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7379d2de5f983b335d3be5f61cfbd1f6">&#9670;&nbsp;</a></span>DEFINE_HEAP_FREE()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFINE_HEAP_FREE </td>
          <td>(</td>
          <td class="paramtype">hybridHeapFree&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Free the allocation </p>

</div>
</div>
<a id="a1b4c737da6f63bf0c0ab1278485046b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b4c737da6f63bf0c0ab1278485046b9">&#9670;&nbsp;</a></span>DEFINE_HEAP_GET_ALLOC_SIZE()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFINE_HEAP_GET_ALLOC_SIZE </td>
          <td>(</td>
          <td class="paramtype">hybridHeapGetAllocSize&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets the allocation size </p>

</div>
</div>
<a id="ab0d461302baafb25085507d1db39f363"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0d461302baafb25085507d1db39f363">&#9670;&nbsp;</a></span>DEFINE_HEAP_LIMITS()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFINE_HEAP_LIMITS </td>
          <td>(</td>
          <td class="paramtype">hybridGetHeapLimits&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a57b19744d3c65c0ef794c570d2307562"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57b19744d3c65c0ef794c570d2307562">&#9670;&nbsp;</a></span>DEFINE_HEAP_MAP()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFINE_HEAP_MAP </td>
          <td>(</td>
          <td class="paramtype">hybridHeapMap&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Map the allocation. IMPORTANT: We will determine whether this is direct allocation by checking the last 2 bits being 0. This works because all our allocators are at least 8 byte aligned so the handle will have it's least significant two bits set as 0. The VRAM handle will have it set to 1s. </p>

</div>
</div>
<a id="ab7e8e5848877272cb4ac6d546d035315"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7e8e5848877272cb4ac6d546d035315">&#9670;&nbsp;</a></span>DEFINE_HEAP_SET_ALLOC_SIZE()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFINE_HEAP_SET_ALLOC_SIZE </td>
          <td>(</td>
          <td class="paramtype">hybridHeapSetAllocSize&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the allocation size </p>

</div>
</div>
<a id="a52ac94f2e43b4bb4a2b8895692e2ca58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52ac94f2e43b4bb4a2b8895692e2ca58">&#9670;&nbsp;</a></span>DEFINE_HEAP_UNMAP()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFINE_HEAP_UNMAP </td>
          <td>(</td>
          <td class="paramtype">hybridHeapUnmap&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Un-Maps the allocation handle. </p>

</div>
</div>
<a id="a577cecb447f694b0e08314f1d133d369"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a577cecb447f694b0e08314f1d133d369">&#9670;&nbsp;</a></span>DEFINE_INIT_HEAP()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFINE_INIT_HEAP </td>
          <td>(</td>
          <td class="paramtype">hybridHeapInit&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize the heap </p>

</div>
</div>
<a id="a5def33721e47fd37d82a6fc496e51c16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5def33721e47fd37d82a6fc496e51c16">&#9670;&nbsp;</a></span>DEFINE_RELEASE_HEAP()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFINE_RELEASE_HEAP </td>
          <td>(</td>
          <td class="paramtype">hybridHeapRelease&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Free the hybrid heap </p>

</div>
</div>
<a id="a5997e21e6726c0dff49a46fbac8958a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5997e21e6726c0dff49a46fbac8958a6">&#9670;&nbsp;</a></span>hybridCreateHeap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="CommonDefs_8h.html#a59279bee44f34d08b3cbf3a89fb0d8d9">STATUS</a> hybridCreateHeap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="heap_2include_2com_2amazonaws_2kinesis_2video_2heap_2Include_8h.html#acaabd707c5ac30be3a1afef736396df3">PHeap</a>&#160;</td>
          <td class="paramname"><em>pHeap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="CommonDefs_8h.html#a0b39d6d754cb24c708b0f2bdbe88130e">UINT32</a>&#160;</td>
          <td class="paramname"><em>spillRatio</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="CommonDefs_8h.html#a0b39d6d754cb24c708b0f2bdbe88130e">UINT32</a>&#160;</td>
          <td class="paramname"><em>behaviorFlags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="HybridHeap_8h.html#a2d444d0408a0f21ad11fdcb965e6d78c">PHybridHeap</a> *&#160;</td>
          <td class="paramname"><em>ppHybridHeap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Hybrid heap internal functions </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="HybridHeap_8c_a5997e21e6726c0dff49a46fbac8958a6_cgraph.png" border="0" usemap="#aHybridHeap_8c_a5997e21e6726c0dff49a46fbac8958a6_cgraph" alt=""/></div>
<map name="aHybridHeap_8c_a5997e21e6726c0dff49a46fbac8958a6_cgraph" id="aHybridHeap_8c_a5997e21e6726c0dff49a46fbac8958a6_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,145,32"/>
<area shape="rect" href="Common_8c.html#a334a3d555f61d7396eb73fda9e82e1e8" title=" " alt="" coords="193,5,349,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="HybridHeap_8c_a5997e21e6726c0dff49a46fbac8958a6_icgraph.png" border="0" usemap="#aHybridHeap_8c_a5997e21e6726c0dff49a46fbac8958a6_icgraph" alt=""/></div>
<map name="aHybridHeap_8c_a5997e21e6726c0dff49a46fbac8958a6_icgraph" id="aHybridHeap_8c_a5997e21e6726c0dff49a46fbac8958a6_icgraph">
<area shape="rect" title=" " alt="" coords="1231,497,1371,523"/>
<area shape="rect" href="heap_2include_2com_2amazonaws_2kinesis_2video_2heap_2Include_8h.html#a2f0bc223a8b9ba2d433ead80eeef7a35" title=" " alt="" coords="1072,497,1183,523"/>
<area shape="rect" href="client_2include_2com_2amazonaws_2kinesis_2video_2client_2Include_8h.html#a74db6991a7472fa44ad012303e5cd4ff" title=" " alt="" coords="839,446,1024,473"/>
<area shape="rect" href="HeapApiFunctionalityTest_8cpp.html#a0774c56b74cecdd69768cf20a0345d0f" title=" " alt="" coords="897,497,966,523"/>
<area shape="rect" href="HybridFileHeapTest_8cpp.html#aa4c69fbba2e3c45faad2a15a0ac9d907" title=" " alt="" coords="897,547,966,574"/>
<area shape="rect" href="classClientApiFunctionalityTest.html#ab5a85401b9ac5571ddd98cc2b3e2a302" title=" " alt="" coords="319,359,509,400"/>
<area shape="rect" href="classClientTestBase.html#a9d603be9d929bf2b352b9d92d21e9ecc" title=" " alt="" coords="575,311,781,338"/>
<area shape="rect" href="client_2include_2com_2amazonaws_2kinesis_2video_2client_2Include_8h.html#a0e7cbab2e7c67db60b73ef8317f2df92" title=" " alt="" coords="570,417,786,443"/>
<area shape="rect" href="classClientTestBase.html#a544b1cbebdcc1e1bbf254ef9bf2b20d0" title=" " alt="" coords="565,468,791,509"/>
<area shape="rect" href="ClientApiTest_8cpp.html#a2a30ff85260c97f0d98495476226b443" title=" " alt="" coords="643,534,713,561"/>
<area shape="rect" href="ClientFunctionalityTest_8cpp.html#a8704e21d4a0d5a5f8fc6c1fb42377416" title=" " alt="" coords="643,585,713,611"/>
<area shape="rect" href="classClientTestBase.html#a901706a587f9ae84df8b2395fbe759cb" title=" " alt="" coords="331,307,497,334"/>
<area shape="rect" href="classAcksFunctionalityTest.html#a1b06560e0e01a806b92c2386220d0b57" title=" " alt="" coords="53,5,215,47"/>
<area shape="rect" href="classCallbacksAndPressuresFunctionalityTest.html#a1b06560e0e01a806b92c2386220d0b57" title=" " alt="" coords="5,71,263,112"/>
<area shape="rect" href="classClientFunctionalityTest.html#a1b06560e0e01a806b92c2386220d0b57" title=" " alt="" coords="49,136,219,177"/>
<area shape="rect" href="classIntermittentProducerFunctionalityTest.html#a1b06560e0e01a806b92c2386220d0b57" title=" " alt="" coords="13,201,255,243"/>
<area shape="rect" href="classStateTransitionFunctionalityTest.html#a1b06560e0e01a806b92c2386220d0b57" title=" " alt="" coords="33,267,235,308"/>
<area shape="rect" href="classStreamApiFunctionalityScenarioTest.html#a1b06560e0e01a806b92c2386220d0b57" title=" " alt="" coords="19,332,249,373"/>
<area shape="rect" href="classStreamFunctionalityTest.html#a1b06560e0e01a806b92c2386220d0b57" title=" " alt="" coords="45,397,223,439"/>
<area shape="rect" href="classStreamRecoveryFunctionalityTest.html#a1b06560e0e01a806b92c2386220d0b57" title=" " alt="" coords="27,463,241,504"/>
<area shape="rect" href="classStreamStoppingFunctionalityTest.html#a1b06560e0e01a806b92c2386220d0b57" title=" " alt="" coords="29,528,239,569"/>
<area shape="rect" href="classTokenRotationFunctionalityTest.html#a1b06560e0e01a806b92c2386220d0b57" title=" " alt="" coords="35,593,233,635"/>
<area shape="rect" href="classClientTestBase.html#af3922c982dbc311473602135cec7a3c5" title=" " alt="" coords="311,424,517,465"/>
<area shape="rect" href="ClientApiTest_8cpp.html#a29e59e966773e8af6adbaa913f51214e" title=" " alt="" coords="379,490,449,517"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a73a6862f89e9d7ff747c7d7ac0ee0d1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73a6862f89e9d7ff747c7d7ac0ee0d1f">&#9670;&nbsp;</a></span>gVramFooter</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structALLOCATION__FOOTER.html">ALLOCATION_FOOTER</a> gVramFooter = {0}</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a33463ae16badc6eb4f205d70dfb9d909"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33463ae16badc6eb4f205d70dfb9d909">&#9670;&nbsp;</a></span>gVramHeader</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structALLOCATION__HEADER.html">ALLOCATION_HEADER</a> gVramHeader = {0, <a class="el" href="HybridHeap_8h.html#a493bb3a59d944fcdfddaf94ad7ddc052">VRAM_ALLOCATION_TYPE</a>, 0}</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_c4d22fc0e4736089ffe45cb281f7e16f.html">heap</a></li><li class="navelem"><a class="el" href="dir_0dbdd4b98286c9c70a81bbc1f422dcfa.html">src</a></li><li class="navelem"><a class="el" href="HybridHeap_8c.html">HybridHeap.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
